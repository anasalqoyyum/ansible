- name: Download Installer
  get_url:
    url: https://sh.rustup.rs
    dest: /tmp/sh.rustup.rs
    mode: "0755"
    force: "yes"
  tags:
    - install
    - rust

- name: install rust/cargo
  shell: /tmp/sh.rustup.rs -y
  tags:
    - install
    - rust

- name: Install cargo-binstall
  shell: "{{ ansible_env.HOME }}/.cargo/bin/cargo install cargo-binstall"
  args:
    executable: /bin/bash
    chdir: "{{ ansible_env.HOME }}"
  tags:
    - install
    - rust

- name: Install eza
  shell: "{{ ansible_env.HOME }}/.cargo/bin/cargo install eza"
  args:
    executable: /bin/bash
    chdir: "{{ ansible_env.HOME }}"
  tags:
    - install
    - rust

- name: Install usage-cli
  shell: "{{ ansible_env.HOME }}/.cargo/bin/cargo install usage-cli"
  args:
    executable: /bin/bash
    chdir: "{{ ansible_env.HOME }}"
  tags:
    - install
    - rust

- name: Install mise
  shell: "{{ ansible_env.HOME }}/.cargo/bin/cargo install mise"
  args:
    executable: /bin/bash
    chdir: "{{ ansible_env.HOME }}"
  tags:
    - install
    - rust
    - linux-only
